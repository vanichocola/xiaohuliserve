(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7b10e916"],{"049d":function(t,e,s){"use strict";s("2586")},"116c":function(t,e,s){"use strict";s("f9b0")},2586:function(t,e,s){},7424:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"app-container",staticStyle:{"padding-top":"10px"}},[s("el-tabs",{on:{"tab-click":t.switchTab},model:{value:t.tabName,callback:function(e){t.tabName=e},expression:"tabName"}},[s("el-tab-pane",{attrs:{label:"系统配置",name:"system"}},[t.form?s("el-form",{ref:"systemForm",staticStyle:{padding:"30px 0"},attrs:{model:t.form,rules:t.formRules,"label-width":"120px"}},[s("el-form-item",{attrs:{label:"系统名称",prop:"system_title"}},[s("el-input",{attrs:{placeholder:"系统标题",size:"small"},model:{value:t.form["system_title"],callback:function(e){t.$set(t.form,"system_title",e)},expression:"form['system_title']"}})],1),s("el-form-item",{attrs:{label:"后台logo",prop:"system_logo"}},[s("el-input",{attrs:{placeholder:"输入图片地址或上传图片",size:"small"},model:{value:t.form["system_logo"],callback:function(e){t.$set(t.form,"system_logo",e)},expression:"form['system_logo']"}}),s("el-upload",{staticClass:"avatar-uploader",attrs:{action:"",data:{type:"system_logo"},"http-request":t.uploadImage,"show-file-list":!1,multiple:!1}},[t.form["system_logo"]?s("img",{staticClass:"avatar",staticStyle:{height:"50px",width:"auto"},attrs:{src:t.form["system_logo"]}}):s("i",{staticClass:"el-icon-plus avatar-uploader-icon",staticStyle:{width:"210px",height:"50px","line-height":"50px"}})]),s("span",[t._v("210x50像素")])],1),s("el-form-item",{attrs:{label:"ICP备案号",prop:"system_icp"}},[s("el-input",{attrs:{placeholder:"ICP备案号",size:"small"},model:{value:t.form["system_icp"],callback:function(e){t.$set(t.form,"system_icp",e)},expression:"form['system_icp']"}})],1),s("el-form-item",{attrs:{label:"公网安备号",prop:"system_gongan"}},[s("el-input",{attrs:{placeholder:"公网安备号",size:"small"},model:{value:t.form["system_gongan"],callback:function(e){t.$set(t.form,"system_gongan",e)},expression:"form['system_gongan']"}})],1),s("el-form-item",{attrs:{label:""}},[s("el-button",{attrs:{type:"primary",icon:"el-icon-check",size:"small"},on:{click:t.doSubmit}},[t._v("保 存")])],1)],1):t._e()],1)],1)],1)},o=[],i=(s("8df2"),s("90e7")),l=s("b775");function n(t){return Object(l["a"])({url:"/upload/image",method:"post",data:t})}var r={data:function(){return{tabName:"system",form:null,engines:[],formRules:{apikey:[{required:!0,message:"此项必填",trigger:"blur"}],mch_id:[{required:!0,message:"此项必填",trigger:"blur"}],key:[{required:!0,message:"此项必填",trigger:"blur"}]}}},mounted:function(){this.getSetting()},methods:{getSetting:function(){var t=this;Object(i["a"])({name:this.tabName}).then((function(e){t.form=e.data}))},switchTab:function(){this.getSetting()},doSubmit:function(){var t=this,e=null;"system"===this.tabName&&(e=this.$refs.systemForm),e&&e.validate((function(e){e?Object(i["b"])({name:t.tabName,data:JSON.stringify(t.form)}).then((function(e){t.getSetting(),t.$message({message:e.message,type:"success",duration:1500})})):t.$message({message:"请填写必填项",type:"error",duration:1500})}))},uploadImage:function(t){var e=this,s=new FormData;s.append("file",t.file),t.data&&s.append("data",JSON.stringify(t.data)),n(s).then((function(s){"system_logo"===t.data.type&&e.$set(e.form,"system_logo",s.data.path),e.$message.success("上传成功")}))}}},m=r,c=(s("116c"),s("049d"),s("e607")),u=Object(c["a"])(m,a,o,!1,null,"27d628d2",null);e["default"]=u.exports},"90e7":function(t,e,s){"use strict";s.d(e,"a",(function(){return o})),s.d(e,"b",(function(){return i}));var a=s("b775");function o(t){return Object(a["a"])({url:"/setting/getSetting",method:"post",data:t})}function i(t){return Object(a["a"])({url:"/setting/setSetting",method:"post",data:t})}},f9b0:function(t,e,s){}}]);